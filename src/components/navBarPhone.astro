---
---

<!-- Barra de navegación móvil inicial -->
<nav class="w-full bg-transparent block md:hidden" id="mobile-initial-navbar">
  <div class="flex justify-between items-center px-4 py-2">
    <a href="#inicio" aria-label="Ir al inicio">
      <img
        class="w-8 h-8 text-emerald-500 animate-pulse hover:animate-none transition-all duration-300"
        src="/CR.png"
        alt="Inicio"
      />
    </a>
    <button 
      id="menu-button" 
      class="text-white hover:text-emerald-400 transition-colors"
      aria-label="Abrir menú"
    >
      <svg 
        xmlns="http://www.w3.org/2000/svg" 
        class="h-6 w-6" 
        fill="none" 
        viewBox="0 0 24 24" 
        stroke="currentColor"
      >
        <path 
          stroke-linecap="round" 
          stroke-linejoin="round" 
          stroke-width="2" 
          d="M4 6h16M4 12h16M4 18h16"
        />
      </svg>
    </button>
  </div>
</nav>

<!-- Menú desplegable móvil -->
<div id="mobile-menu" class="fixed inset-0 bg-black/95 backdrop-blur-sm z-50 transform translate-x-full transition-transform duration-300 md:hidden">
  <div class="flex justify-end p-4">
    <button id="close-menu" class="text-white hover:text-emerald-400 transition-colors" aria-label="Cerrar menú">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </div>
  <nav class="flex flex-col items-center gap-8 p-4">
    <a href="#inicio" class="text-white text-xl hover:text-emerald-400 transition-colors">Inicio</a>
    <a href="#proyectos" class="text-white text-xl hover:text-emerald-400 transition-colors">Proyectos</a>
    <a href="#experiencias" class="text-white text-xl hover:text-emerald-400 transition-colors">Experiencias</a>
    <a href="#sobre-mi" class="text-white text-xl hover:text-emerald-400 transition-colors">Sobre mí</a>
    <a href="#contacto" class="text-white text-xl hover:text-emerald-400 transition-colors">Contacto</a>
  </nav>
</div>

<!-- Barra de navegación móvil flotante -->
<nav
    class="fixed w-full max-w-screen-md mx-auto bg-black/80 backdrop-blur-lg py-2 top-0 left-1/2 -translate-x-1/2 z-50 shadow-lg opacity-0 -translate-y-full transition-all duration-300 block md:hidden"
    id="mobile-floating-navbar"
>
  <div class="flex justify-between items-center px-4">
    <a href="#inicio" aria-label="Ir al inicio">
      <img
        class="w-8 h-8 text-emerald-500 animate-pulse hover:animate-none transition-all duration-300"
        src="/CR.png"
        alt="Inicio"
      />
    </a>
    <button 
      id="floating-menu-button" 
      class="text-white hover:text-emerald-400 transition-colors"
      aria-label="Abrir menú"
    >
      <svg 
        xmlns="http://www.w3.org/2000/svg" 
        class="h-6 w-6" 
        fill="none" 
        viewBox="0 0 24 24" 
        stroke="currentColor"
      >
        <path 
          stroke-linecap="round" 
          stroke-linejoin="round" 
          stroke-width="2" 
          d="M4 6h16M4 12h16M4 18h16"
        />
      </svg>
    </button>
  </div>
</nav>

<script>
  const header = document.querySelector("header");
  const mobileInitialNavbar = document.getElementById("mobile-initial-navbar");
  const mobileFloatingNavbar = document.getElementById("mobile-floating-navbar");
  const mobileMenu = document.getElementById("mobile-menu");
  const menuButton = document.getElementById("menu-button");
  const floatingMenuButton = document.getElementById("floating-menu-button");
  const closeMenuButton = document.getElementById("close-menu");
  const menuLinks = mobileMenu?.querySelectorAll("a");

  // Función para abrir/cerrar el menú
  function toggleMenu() {
    mobileMenu?.classList.toggle("translate-x-full");
  }

  // Event listeners para los botones
  menuButton?.addEventListener("click", toggleMenu);
  floatingMenuButton?.addEventListener("click", toggleMenu);
  closeMenuButton?.addEventListener("click", toggleMenu);

  // Cerrar menú al hacer clic en un enlace
  menuLinks?.forEach(link => {
    link.addEventListener("click", toggleMenu);
  });

  // Mantener la lógica existente del navbar flotante
  window.addEventListener("scroll", () => {
    if (header && mobileInitialNavbar) {
      const headerBottom = header.offsetTop + header.offsetHeight;

      if (window.scrollY > headerBottom) {
        mobileFloatingNavbar?.classList.remove("-translate-y-full", "opacity-0");
      } else {
        mobileFloatingNavbar?.classList.add("-translate-y-full", "opacity-0");
      }
    }
  });
</script>
